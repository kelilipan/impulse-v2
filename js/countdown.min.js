/*!
 * Start Bootstrap - SB Admin 2 v4.0.7 (https://startbootstrap.com/template-overviews/sb-admin-2)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

let progressBar=document.querySelector(".e-c-progress"),indicator=document.getElementById("e-indicator"),pointer=document.getElementById("e-pointer"),length=2*Math.PI*100;function update(e,t){var i=-length-length*e/t;progressBar.style.strokeDashoffset=i,pointer.style.transform=`rotate(${360*e/t}deg)`}progressBar.style.strokeDasharray=length;const displayOutput=document.querySelector(".display-remain-time"),pauseBtn=document.getElementById("pause"),setterBtns=document.querySelectorAll("button[data-setter]");let intervalTimer,timeLeft,wholeTime=3600,isPaused=!1,isStarted=!1;function changeWholeTime(e){wholeTime+e>0&&update(wholeTime+=e,wholeTime)}update(wholeTime,wholeTime),displayTimeLeft(wholeTime);for(var i=0;i<setterBtns.length;i++)setterBtns[i].addEventListener("click",(function(e){switch(this.dataset.setter){case"minutes-plus":changeWholeTime(60);break;case"minutes-minus":changeWholeTime(-60);break;case"seconds-plus":changeWholeTime(1);break;case"seconds-minus":changeWholeTime(-1)}displayTimeLeft(wholeTime)}));function timer(e){let t=Date.now()+1e3*e;displayTimeLeft(e),intervalTimer=setInterval((function(){if((timeLeft=Math.round((t-Date.now())/1e3))<0)return clearInterval(intervalTimer),isStarted=!1,setterBtns.forEach((function(e){e.disabled=!1,e.style.opacity=1})),displayTimeLeft(wholeTime),void pauseBtn.classList.remove("disabled");displayTimeLeft(timeLeft)}),1e3)}function pauseTimer(e){!1===isStarted?(timer(wholeTime),isStarted=!0,notifyStart(),this.classList.add("disabled"),setterBtns.forEach((function(e){e.disabled=!0,e.style.opacity=.5}))):isPaused?(notifyStart(),this.classList.add("disabled"),timer(timeLeft),isPaused=!isPaused):(this.classList.remove("disabled"),clearInterval(intervalTimer),isPaused=!isPaused)}function displayTimeLeft(e){let t=Math.floor(e/60),i=e%60,s=`${t<10?"0":""}${t}:${i<10?"0":""}${i}`;displayOutput.textContent=s,update(e,wholeTime)}notifyStart=()=>{Swal.fire({position:"bottom-end",icon:"success",backdrop:!1,text:"Practicum successfully started",showConfirmButton:!1,timer:1800,timerProgressBar:!0})},pauseBtn.addEventListener("click",pauseTimer);